---
layout: post
comments: true
social-share: true
show-avatar: true
title: The Story of a Tree
tags:
- bfs
- dfs
- tree
- graph
- greedy
---

> https://www.hackerrank.com/challenges/the-story-of-a-tree/problem

## 문제 요약

1. 그래프가 하나 주어짐 
2. 해당 그래프의 랜덤한 노드를 Root 노드로 하는 트리 형태로 변경 
3. 트리의 형태를 예측하는 새로운 타겟 그래프가 주어짐 
4. 2번 스텝에서 생성가능한 모든 트리 중에서, 3번 스텝의 그래프와 최소 K개의 (parent, child) 쌍이 일치하는 트리의 비율이 얼마나 되는지 출력

## 풀이법

### 단순 풀이

N 개의 노드를 모두 하나씩 루트 노드로 지정하면서 예측 그래프와 일일이 비교해보기. 이 경우 N개의 노드를 루트 노드로 지정하면서, 새로운 트리를 만들기 위해 N탐색을 하므로 O(N^2)의 시간 복잡도가 필요하게 됨. N 조건의 10^5 이므로 Time out 가능성이 매우 높음

### 조건을 이용

트리를 만드는 방법에 제약 사항이 없음. 어떤 노드를 먼저 트리의 루트 노드로 만드는 지는 상관이 없게됨. 

일단 아무 노드나 선택하여 해당 노드를 루트 노드로 하는 트리를 생성. 이후 다음 트리를 선택할 때에는 랜덤으로 선택하는 것이 아닌, 현재 루트 노드의 바로 아랫 자식 노드를 선택. 이 경우 변경된 트리에서 방향이 바뀐 엣지는 기존 루트노드와 새로운 루트노드 사이의 엣지들 뿐임. 

첫 트리를 만드는 데 드는 비용인 O(N)이 필요하고. 이후 N개의 루트를 도는 비용 O(N)이 필요함. 결과적으로 최종 복잡도는 O(N)이 됨.